{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class LoggedInUserDataService {\n  constructor(http) {\n    this.http = http;\n    this.loggedIn = false;\n    this.userData = this.getUserData();\n  }\n  ngOnInit() {}\n  setUserData(data) {\n    this.userData = data;\n    this.loggedIn = true;\n    sessionStorage.setItem('loggedIn', 'true');\n    sessionStorage.setItem('userData', JSON.stringify(data));\n  }\n  getUserData() {\n    const userData = sessionStorage.getItem('userData');\n    return userData ? JSON.parse(userData) : null;\n  }\n  clearUserData() {\n    this.userData = null;\n    this.loggedIn = false;\n    sessionStorage.removeItem('userData');\n  }\n  updateUserData(newUserData) {\n    this.userData = newUserData;\n    this.setUserData(newUserData);\n  }\n  updateUser(userId, userData) {\n    const url = `http://localhost/CoursePilot/Education-system-laravel/laravel%20finale/public/api/users/${userId}`;\n    return this.http.put(url, userData);\n  }\n  userComments(userId) {\n    const url = `http://localhost/CoursePilot/Education-system-laravel/laravel%20finale/public/api/comments/user/${userId}`;\n    return this.http.get(url);\n  }\n}\nLoggedInUserDataService.ɵfac = function LoggedInUserDataService_Factory(t) {\n  return new (t || LoggedInUserDataService)(i0.ɵɵinject(i1.HttpClient));\n};\nLoggedInUserDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: LoggedInUserDataService,\n  factory: LoggedInUserDataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["LoggedInUserDataService","constructor","http","loggedIn","userData","getUserData","ngOnInit","setUserData","data","sessionStorage","setItem","JSON","stringify","getItem","parse","clearUserData","removeItem","updateUserData","newUserData","updateUser","userId","url","put","userComments","get","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["D:\\xampp\\htdocs\\CoursePilot\\Education-system-laravel\\angular-final\\src\\app\\services\\logged-in-user-data.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoggedInUserDataService {\r\n  loggedIn: boolean = false;\r\n  private userData: any;\r\n  constructor(private http:HttpClient) {\r\n    this.userData = this.getUserData();\r\n\r\n  }\r\n  ngOnInit() {\r\n\r\n  }\r\n  setUserData(data: any) {\r\n    this.userData = data;\r\n    this.loggedIn=true;\r\n    sessionStorage.setItem('loggedIn' , 'true' );\r\n    sessionStorage.setItem('userData', JSON.stringify(data));\r\n  }\r\n\r\n  getUserData(): any {\r\n    const userData = sessionStorage.getItem('userData');\r\n    return userData ? JSON.parse(userData) : null;\r\n   }\r\n\r\n  clearUserData() {\r\n    this.userData = null;\r\n    this.loggedIn=false;\r\n    sessionStorage.removeItem('userData');\r\n  }\r\n  updateUserData(newUserData: any) {\r\n    this.userData = newUserData;\r\n    this.setUserData(newUserData);\r\n  }\r\n  updateUser(userId: number, userData: any){\r\n    const url = `http://localhost/CoursePilot/Education-system-laravel/laravel%20finale/public/api/users/${userId}`;\r\n    return this.http.put<any>(url, userData);\r\n  }\r\n  userComments(userId:number): Observable<any>{\r\n    const url = `http://localhost/CoursePilot/Education-system-laravel/laravel%20finale/public/api/comments/user/${userId}`;\r\n    return this.http.get<any>(url);\r\n  }\r\n}\r\n"],"mappings":";;AAOA,OAAM,MAAOA,uBAAuB;EAGlCC,YAAoBC,IAAe;IAAf,KAAAA,IAAI,GAAJA,IAAI;IAFxB,KAAAC,QAAQ,GAAY,KAAK;IAGvB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACC,WAAW,EAAE;EAEpC;EACAC,QAAQA,CAAA,GAER;EACAC,WAAWA,CAACC,IAAS;IACnB,IAAI,CAACJ,QAAQ,GAAGI,IAAI;IACpB,IAAI,CAACL,QAAQ,GAAC,IAAI;IAClBM,cAAc,CAACC,OAAO,CAAC,UAAU,EAAG,MAAM,CAAE;IAC5CD,cAAc,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;EAC1D;EAEAH,WAAWA,CAAA;IACT,MAAMD,QAAQ,GAAGK,cAAc,CAACI,OAAO,CAAC,UAAU,CAAC;IACnD,OAAOT,QAAQ,GAAGO,IAAI,CAACG,KAAK,CAACV,QAAQ,CAAC,GAAG,IAAI;EAC9C;EAEDW,aAAaA,CAAA;IACX,IAAI,CAACX,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACD,QAAQ,GAAC,KAAK;IACnBM,cAAc,CAACO,UAAU,CAAC,UAAU,CAAC;EACvC;EACAC,cAAcA,CAACC,WAAgB;IAC7B,IAAI,CAACd,QAAQ,GAAGc,WAAW;IAC3B,IAAI,CAACX,WAAW,CAACW,WAAW,CAAC;EAC/B;EACAC,UAAUA,CAACC,MAAc,EAAEhB,QAAa;IACtC,MAAMiB,GAAG,GAAG,2FAA2FD,MAAM,EAAE;IAC/G,OAAO,IAAI,CAAClB,IAAI,CAACoB,GAAG,CAAMD,GAAG,EAAEjB,QAAQ,CAAC;EAC1C;EACAmB,YAAYA,CAACH,MAAa;IACxB,MAAMC,GAAG,GAAG,mGAAmGD,MAAM,EAAE;IACvH,OAAO,IAAI,CAAClB,IAAI,CAACsB,GAAG,CAAMH,GAAG,CAAC;EAChC;;AAtCWrB,uBAAuB,C;mBAAvBA,uBAAuB,EAAAyB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAvB5B,uBAAuB,C;SAAvBA,uBAAuB;EAAA6B,OAAA,EAAvB7B,uBAAuB,CAAA8B,IAAA;EAAAC,UAAA,EAFtB;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}